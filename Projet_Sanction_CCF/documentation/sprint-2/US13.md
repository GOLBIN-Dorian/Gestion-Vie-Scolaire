# âš–ï¸ **US13 â€“ CrÃ©ation de sanction**

## ðŸŽ¯ **Titre / Objectif**

> **En tant que** personnel de la vie scolaire connectÃ©  
> **Je veux** pouvoir crÃ©er une sanction en prÃ©cisant la date, le motif, le type, le professeur et l'Ã©lÃ¨ve concernÃ©  
> **Afin de** enregistrer un incident et assurer le suivi disciplinaire des Ã©lÃ¨ves

---

## ðŸ” **Description**

Cette User Story permet au personnel de la vie scolaire dâ€™**enregistrer une sanction** dans lâ€™application.  
Chaque sanction reprÃ©sente un **incident disciplinaire** impliquant un Ã©lÃ¨ve et nÃ©cessite plusieurs informations :  
*date de l'incident, motif, type de sanction, professeur concernÃ©, Ã©lÃ¨ve concernÃ©*.  

Lâ€™objectif est de constituer un **historique complet des sanctions** pour chaque Ã©lÃ¨ve, permettant un suivi disciplinaire efficace.  
Les sanctions peuvent Ãªtre de diffÃ©rents types (avertissement, retenue, exclusion temporaire, etc.) et sont toujours associÃ©es Ã  un professeur et Ã  un Ã©lÃ¨ve existants.

Lâ€™utilisateur remplit un **formulaire complet** avec tous les champs requis, sÃ©lectionne le professeur et l'Ã©lÃ¨ve concernÃ©s dans des listes dÃ©roulantes, puis valide.  
AprÃ¨s confirmation, la sanction est **enregistrÃ©e dans le systÃ¨me** et apparaÃ®t dans la liste des sanctions (US16).

Cette fonctionnalitÃ© constitue le **cÅ“ur mÃ©tier** de lâ€™application et nÃ©cessite que les professeurs (US10) et les Ã©lÃ¨ves (US7-1) existent prÃ©alablement.

---

## âœ… **CritÃ¨res dâ€™acceptation**

### **CA1 â€“ Formulaire de crÃ©ation de sanction**
* Accessible uniquement pour un utilisateur **connectÃ©**.  
* Le formulaire contient les champs :  
  - **Date** (date de l'incident)  
  - **Motif** (description de l'incident)  
  - **Type** (sÃ©lection dans une liste : avertissement, retenue, exclusion temporaire, etc.)  
  - **Professeur** (sÃ©lection dans une liste de professeurs existants - US10)  
  - **Ã‰lÃ¨ve** (sÃ©lection dans une liste d'Ã©lÃ¨ves existants - US7-1)  
* Tous les champs sont **obligatoires**.  
* Un bouton **"CrÃ©er la sanction"** permet d'enregistrer les informations.  

---

### **CA2 â€“ Validation et intÃ©gritÃ© rÃ©fÃ©rentielle**
* AprÃ¨s validation, un **message de confirmation** indique que la sanction a Ã©tÃ© crÃ©Ã©e avec succÃ¨s.  
* La sanction est **enregistrÃ©e dans le systÃ¨me** avec toutes les informations.  
* Les relations avec le professeur et l'Ã©lÃ¨ve sont **validÃ©es** (vÃ©rification de l'existence).  
* La date doit Ãªtre valide (format correct, pas dans le futur si nÃ©cessaire selon les rÃ¨gles mÃ©tier).  
* En cas d'erreur, des messages explicites sont affichÃ©s.  

---

### **CA3 â€“ ExpÃ©rience utilisateur**
* Interface fluide, claire et cohÃ©rente avec les autres Ã©crans.  
* Les listes dÃ©roulantes (professeurs, Ã©lÃ¨ves) sont **faciles Ã  utiliser** et affichent les informations pertinentes (nom, prÃ©nom).  
* Messages d'erreur explicites (ex. : "Veuillez sÃ©lectionner un Ã©lÃ¨ve").  
* Temps de traitement rapide (moins de 3 secondes).  
* Design responsive et accessible.  

---

### **CA4 â€“ Redirection post-crÃ©ation**
* AprÃ¨s la crÃ©ation d'une sanction, l'utilisateur est **redirigÃ© automatiquement** vers la liste des sanctions (US16).  
* Un message discret ("Sanction crÃ©Ã©e avec succÃ¨s") s'affiche en haut de la liste.  
* La sanction nouvellement crÃ©Ã©e est **immÃ©diatement visible** dans la liste.  

---

## ðŸ“Š **DonnÃ©es et rÃ¨gles mÃ©tier**

| DonnÃ©e | RÃ¨gle mÃ©tier |
| ------------------ | ------------ |
| **Date** | Obligatoire, au format JJ/MM/AAAA, date valide. |
| **Motif** | Obligatoire, texte libre dÃ©crivant l'incident (minimum 10 caractÃ¨res). |
| **Type** | Obligatoire, valeur issue d'une liste prÃ©dÃ©finie (avertissement, retenue, exclusion temporaire, etc.). |
| **Professeur** | Obligatoire, doit correspondre Ã  un professeur existant (US10). |
| **Ã‰lÃ¨ve** | Obligatoire, doit correspondre Ã  un Ã©lÃ¨ve existant (US7-1). |
| **Identifiant interne** | GÃ©nÃ©rÃ© automatiquement par le systÃ¨me. |
| **Date de crÃ©ation** | EnregistrÃ©e automatiquement (timestamp). |

---

## â±ï¸ **Estimation**

* **ComplexitÃ©** : Moyenne  
* **PrioritÃ©** : â˜…â˜…â˜… (Sprint 2)

---

## ðŸ“Œ **DÃ©pendances**

* **US1 â€“ Connexion utilisateur** : accÃ¨s restreint aux utilisateurs connectÃ©s.  
* **US10 â€“ CrÃ©ation de professeur** : des professeurs doivent exister pour Ãªtre associÃ©s aux sanctions.  
* **US7-1 â€“ CrÃ©ation d'Ã©lÃ¨ve** : des Ã©lÃ¨ves doivent exister pour Ãªtre associÃ©s aux sanctions.  
* **Travaille conjointement avec :** **US16 â€“ Consultation des sanctions** (redirection aprÃ¨s crÃ©ation).  

---

## ðŸ‘¥ **Parties prenantes**

| RÃ´le | ResponsabilitÃ© |
|------|----------------|
| **Product Owner** | DÃ©finit les champs, les types de sanctions et la logique d'association avec professeur/Ã©lÃ¨ve. |
| **Ã‰quipe de dÃ©veloppement** | ImplÃ©mente le formulaire, la validation, l'enregistrement, les relations et la redirection. |
| **Utilisateur final (vie scolaire)** | Teste la facilitÃ© et la complÃ©tude de la crÃ©ation de sanction. |

---

## âœ… **Definition of Done**

* Formulaire fonctionnel et validation de tous les champs obligatoires.  
* Validation de l'intÃ©gritÃ© rÃ©fÃ©rentielle (professeur et Ã©lÃ¨ve existants).  
* Message de confirmation aprÃ¨s crÃ©ation rÃ©ussie.  
* Redirection automatique vers la liste des sanctions (US16).  
* La sanction apparaÃ®t bien dans la liste avec toutes ses informations.  
* Interface claire, fluide et validÃ©e par le Product Owner.  
* Protection contre les injections SQL et XSS.  
* Tests de validation effectuÃ©s et validÃ©s.  

---

## ðŸ’» Maquette indicative

> La maquette pour la crÃ©ation de sanction suivra le mÃªme design que les autres formulaires de crÃ©ation.  
> Les listes dÃ©roulantes pour les professeurs et les Ã©lÃ¨ves seront claires et faciles Ã  utiliser.  
> Cette disposition est indicative : lâ€™Ã©quipe pourra lâ€™adapter selon les choix dâ€™implÃ©mentation.

